<!DOCTYPE html><html lang="zh-Cn" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ä½•æ–¹åœœçš„åšå®¢</title><meta name="author" content="ä½•æ–¹åœœ"><meta name="copyright" content="ä½•æ–¹åœœ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å¤«å­°å¼‚é“è€Œç›¸å®‰">
<meta property="og:type" content="website">
<meta property="og:title" content="ä½•æ–¹åœœçš„åšå®¢">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="ä½•æ–¹åœœçš„åšå®¢">
<meta property="og:description" content="å¤«å­°å¼‚é“è€Œç›¸å®‰">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/1219ec3412a4cedf9378f9c0b14545e1.jpg">
<meta property="article:author" content="ä½•æ–¹åœœ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/1219ec3412a4cedf9378f9c0b14545e1.jpg"><link rel="shortcut icon" href="/img/1219ec3412a4cedf9378f9c0b14545e1.jpg"><link rel="canonical" href="http://example.com/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ä½•æ–¹åœœçš„åšå®¢',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-12-22 15:53:19'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/1219ec3412a4cedf9378f9c0b14545e1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">111</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/f19b6d7802203dbf7f381a7c4ce0c4cc.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ä½•æ–¹åœœçš„åšå®¢"><img class="site-icon" src="/img/1219ec3412a4cedf9378f9c0b14545e1.jpg"/><span class="site-name">ä½•æ–¹åœœçš„åšå®¢</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ä½•æ–¹åœœçš„åšå®¢</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/HeYuan-33" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="/1405269390@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/06/04/sherlock-LEND/" title="sherlock-LEND">sherlock-LEND</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-06-04T12:41:58.000Z" title="Created 2025-06-04 20:41:58">2025-06-04</time></span></div><div class="content">sherlock-LENDè¿™æ˜¯ä¸€ä¸ªå…³äºè·¨é“¾çš„å€Ÿè´·ï¼Œé‚£ä¹ˆæ¼æ´ç‚¹å°±æ˜¯åœ¨è·¨é“¾çš„å¤„ç†ä¸Š
é«˜gasè´¹ç”¨é˜»ç¢ä»è¾¹ç•Œç”¨æˆ·é€€å‡ºè´¨æŠ¼åŸå› å°±æ˜¯ä½¿ç”¨æ•°ç»„è®°å½•æ•°æ®ï¼Œå¹¶ä¸”æ²¡æœ‰é™åˆ¶ï¼Œå¯¼è‡´gasçº¿æ€§å¢åŠ ï¼Œç”¨æˆ·æ”¯ä»˜ä¸äº†ï¼Œé€€å‡ºè´¨æŠ¼ä»£ç æ¼æ´
// éå†æ•°ç»„ç¡®å®šç›¸å…³å±‚çº§å˜æ›´åŒºé—´  for (uint256 i = 0; i &lt; userTierHistory.length; i++) &#123;      if (userTierHistory[i].timestamp &lt;= fromTime) &#123;          currentTier = userTierHistory[i].to;          relevantStartIndex = i;      &#125; else &#123;          break;      &#125;  &#125;  // è®¡ç®—åŒºé—´å†…å„å±‚çº§çš„åˆ©æ¯  for (uint256 i = relevantStartIndex + 1; i &lt; userTierHistory.length; i++) &#123;      if (userT ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/06/01/%E4%BD%BF%E7%94%A8-Anchor-%E4%B8%8E-SPL-Token-Program-%E4%BA%A4%E4%BA%92%E6%8C%87%E5%8D%97/" title="ä½¿ç”¨ Anchor ä¸ SPL Token Program äº¤äº’æŒ‡å—">ä½¿ç”¨ Anchor ä¸ SPL Token Program äº¤äº’æŒ‡å—</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-06-01T12:36:28.000Z" title="Created 2025-06-01 20:36:28">2025-06-01</time></span></div><div class="content">ä½¿ç”¨Anchorä¸SPL Token Programäº¤äº’æŒ‡å—Anchor æ˜¯ç”¨æ¥å¼€å‘ Solana æ™ºèƒ½åˆçº¦çš„é«˜å±‚å¼€å‘æ¡†æ¶ï¼Œå®ƒåŸºäº Rustï¼Œç®€åŒ–äº† Solana åŸç”Ÿå¼€å‘çš„ç¹çæµç¨‹ã€‚SPL æ˜¯ Solana Program Library çš„ç¼©å†™,å®ƒæ˜¯Solanaå®˜æ–¹ç»´æŠ¤çš„ä¸€å¥—æ ‡å‡†æ™ºèƒ½åˆçº¦ç¨‹åºé›†åˆï¼Œç”¨æ¥ä¸º Solana ç”Ÿæ€æä¾›å„ç§ åŸºç¡€åŠŸèƒ½æ¨¡å—ï¼Œç±»ä¼¼äºä»¥å¤ªåŠé‡Œçš„ ERCæ ‡å‡†åˆçº¦ã€‚
åˆ›å»ºToken Minté¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯Mintè´¦æˆ·ï¼Œç®€å•æ¥è¯´ï¼ŒMint è´¦æˆ·å°±æ˜¯æŸä¸ªä»£å¸çš„â€œå‘è¡Œç™»è®°ä¸­å¿ƒâ€ï¼Œè´Ÿè´£è®°å½•è¿™ä¸ªä»£å¸çš„æ€»å‘è¡Œé‡ã€ç²¾åº¦ã€å°æ•°ä½ï¼Œä»¥åŠè°æœ‰æƒé™é“¸é€ ï¼ˆmintï¼‰æˆ–é”€æ¯ï¼ˆburnï¼‰å®ƒï¼Œæ‰€ä»¥å®ƒçš„ç»“æ„å°±éå¸¸çš„æ¸…æ™°äº†ï¼Œå¦‚ä¸‹ï¼š
pub struct Mint &#123;    /// ç”¨äºé“¸é€ æ–°tokençš„å¯é€‰æƒé™ã€‚mintæƒé™åªèƒ½åœ¨mintåˆ›å»ºæœŸé—´æä¾›ã€‚    /// å¦‚æœæ²¡æœ‰mintæƒé™ï¼Œåˆ™mintå…·æœ‰å›ºå®šçš„ä¾›åº”é‡ï¼Œå¹¶ä¸”æ— æ³•é“¸é€ æ›´å¤šçš„tokenã€‚    pub mint_authority: COption&lt;Pubkey&gt;,        /// tokençš„æ€»ä¾›åº”é‡ã€‚     ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/05/04/code4rena-Kinetiq/" title="code4rena-Kinetiq">code4rena-Kinetiq</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-05-04T07:28:47.000Z" title="Created 2025-05-04 15:28:47">2025-05-04</time></span></div><div class="content">é«˜  ç¼“å†²åŒºè¾¾åˆ°æœ€å¤§é™é¢ï¼Œå–æ¶ˆèµ„é‡‘å¤§äºåˆçº¦çš„èµ„é‡‘è´¨æŠ¼åè®®å…è®¸ç”¨æˆ·è´¨æŠ¼ä»£å¸å¹¶èµšå–å¥–åŠ±ã€‚å½“ç”¨æˆ·å¸Œæœ›æå–ä»–ä»¬çš„ä»£å¸æ—¶ï¼Œä»–ä»¬ä¼šè°ƒç”¨ queueWithdrawal() æ¥å¯åŠ¨æå–æµç¨‹ã€‚ç®¡ç†è€…å¯ä»¥é€šè¿‡è°ƒç”¨ cancelWithdrawal() æ¥å–æ¶ˆå¾…å¤„ç†çš„æå–è¯·æ±‚ï¼Œè¿™ä¼šå°† KHYPE ä»£å¸è¿”è¿˜ç»™ç”¨æˆ·ã€‚ä¸ºäº†æ­£ç¡®å®Œæˆå–æ¶ˆæµç¨‹ï¼Œç®¡ç†è€…å¿…é¡»è°ƒç”¨ redelegateWithdrawnHYPE() æ¥æ›´æ–°åè®®çŠ¶æ€ï¼ŒåŒ…æ‹¬ç¼“å†²åŒºå’Œå…¶ä»–æ“ä½œã€‚ç„¶è€Œï¼Œå­˜åœ¨ä¸€ä¸ªé™åˆ¶ï¼šä¸€æ—¦è¾¾åˆ°ç¼“å†²åŒºé˜ˆå€¼ï¼Œä»£å¸ä¼šä» EVM å±‚ç§»åŠ¨åˆ° L1 spot ä½™é¢ï¼Œä½†redelegateWithdrawnHYPE()è¦æ±‚ address(this).balance &gt;= cancelledWithdrawalAmountã€‚ç”±äºè¿™äº›è½¬ç§»çš„èµ„äº§åœ¨åˆçº¦å±‚é¢ä¸å†å¯è®¿é—®ï¼Œä½†ä»ç„¶è®¡å…¥å·²å–æ¶ˆçš„æå–é‡‘é¢ä¸­ï¼Œå› æ­¤è¯¥æ¡ä»¶åœ¨æ•°å­¦ä¸Šå˜å¾—ä¸å¯èƒ½æ»¡è¶³ã€‚å°½ç®¡æœ‰æ¦‚å¿µéªŒè¯ï¼ˆPOCï¼‰ï¼Œä½†è®©æˆ‘ä¸¾ä¸ªä¾‹å­ï¼šè´¨æŠ¼ç®¡ç†å™¨åˆçº¦çš„ç›®æ ‡ç¼“å†²åŒºä¸º 3 HYPEã€‚Aliceã€Bobã€Sage å’Œ Tony å„è´¨æŠ¼äº† 1 HYPEï¼Œè¿™è‡ªåŠ¨è¾¾åˆ°äº†ç›®æ ‡ç¼“å†²åŒºï¼Œå‰©ä½™éƒ¨åˆ†å°†è¿›å…¥ L1 spot ä½™é¢ã€‚ä» ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/05/01/EIP712/" title="EIP712">EIP712</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-05-01T07:39:53.000Z" title="Created 2025-05-01 15:39:53">2025-05-01</time></span></div><div class="content">EIP712å½“ç„¶ï¼EIP-712 æ˜¯ä»¥å¤ªåŠçš„ä¸€é¡¹æ ‡å‡†ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç»“æ„åŒ–çš„æ¶ˆæ¯ç­¾åæ–¹æ¡ˆï¼Œä»¥ä¾¿èƒ½å¤Ÿå®‰å…¨ã€æ ‡å‡†åŒ–åœ°å¯¹å¤æ‚æ•°æ®è¿›è¡Œç­¾åå’ŒéªŒè¯ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºç­¾åå¤æ‚æ•°æ®ç»“æ„ï¼ˆå¦‚ç»“æ„åŒ–å¯¹è±¡ã€æ•°ç»„ã€åµŒå¥—å¯¹è±¡ç­‰ï¼‰å¹¶ä¿è¯å…¶ä¸å¯ç¯¡æ”¹çš„æ ‡å‡†ã€‚
ğŸŒŸ EIP-712 æ¦‚è¿°EIP-712 è§„èŒƒæå‡ºäº†å¯¹ç»“æ„åŒ–æ•°æ®è¿›è¡Œç­¾åçš„æ–¹æ³•ï¼Œè§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š

é¿å…é‡æ”¾æ”»å‡»ï¼šå¦‚æœæ²¡æœ‰ç»“æ„åŒ–æ•°æ®çš„ç­¾åï¼Œå¯èƒ½å­˜åœ¨ç›¸åŒçš„ç­¾åè¢«æ»¥ç”¨çš„é£é™©ã€‚
æ˜“äºè§£æå’ŒéªŒè¯ï¼šç­¾åçš„å¯¹è±¡å¯ä»¥è¢«é¢„å…ˆçº¦å®šå’ŒéªŒè¯ï¼Œé¿å…ç›´æ¥ç­¾ååŸå§‹å­—èŠ‚æµã€‚
æå‡ç”¨æˆ·ä½“éªŒï¼šç”¨æˆ·å¯ä»¥æ˜ç¡®çŸ¥é“è‡ªå·±ç­¾ç½²çš„å†…å®¹ï¼Œå‡å°‘è¯¯ç­¾å’Œæ¶æ„ç­¾åçš„é£é™©ã€‚

ğŸ” EIP-712 çš„æ ¸å¿ƒæ¦‚å¿µEIP-712 é€šè¿‡å°†æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†æ¥åˆ›å»ºå®‰å…¨çš„ç­¾åï¼š

Domain Separatorï¼ˆåŸŸåˆ†éš”ç¬¦ï¼‰ï¼šæ ‡è¯†ç­¾åæ•°æ®çš„æ¥æºã€‚é€šè¿‡å¼•å…¥è¿™ä¸ªâ€œåŸŸâ€æ¦‚å¿µï¼Œå¯ä»¥åŒºåˆ†ä¸åŒçš„ç­¾ååœºæ™¯ï¼Œé˜²æ­¢é‡æ”¾æ”»å‡»ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç­¾åç”¨äºäº¤æ˜“ï¼Œå¦ä¸€ä¸ªç”¨äºè´¦æˆ·ç®¡ç†ï¼Œå®ƒä»¬çš„åŸŸåˆ†éš”ç¬¦æ˜¯ä¸åŒçš„ï¼Œå½¼æ­¤ä¹‹é—´äº’ä¸å¹²æ‰°ã€‚

ç±»å‹å“ˆå¸Œï¼šå¯¹æ•°æ®ç»“æ„çš„ç±»å‹è¿›è¡Œå“ˆå¸Œï¼Œç¡®ä¿ç­¾åçš„æ•°æ®ç»“æ„ä¸è¢«ç¯¡æ”¹ã€‚

æ•°æ®ç»“æ„ï¼šEIP-712 ç­¾åçš„æ•°æ®æœ¬èº«æ˜¯ç»“æ„åŒ–çš„ï¼Œæ•°æ®åŒ…æ‹¬äº† t ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/04/24/%E8%B7%A8%E9%93%BE%E5%90%88%E7%BA%A6%E6%97%B6%E4%BB%A3%EF%BC%9AAxelar%E3%80%81Wormhole%E3%80%81Hyperlane-%E8%B0%81%E8%83%BD%E7%A7%B0%E9%9C%B8%E5%A4%9A%E9%93%BE%E9%80%9A%E4%BF%A1%EF%BC%9F/" title="è·¨é“¾åˆçº¦æ—¶ä»£ï¼šAxelarã€Wormholeã€Hyperlane è°èƒ½ç§°éœ¸å¤šé“¾é€šä¿¡ï¼Ÿ">è·¨é“¾åˆçº¦æ—¶ä»£ï¼šAxelarã€Wormholeã€Hyperlane è°èƒ½ç§°éœ¸å¤šé“¾é€šä¿¡ï¼Ÿ</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-04-24T13:41:00.000Z" title="Created 2025-04-24 21:41:00">2025-04-24</time></span></div><div class="content">è·¨é“¾åˆçº¦æ—¶ä»£ï¼šAxelarã€Wormholeã€Hyperlane è°èƒ½ç§°éœ¸å¤šé“¾é€šä¿¡ï¼Ÿéšç€åŒºå—é“¾æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œè·¨é“¾é€šä¿¡å·²ç»æˆä¸ºäº†åŒºå—é“¾ç”Ÿæ€ç³»ç»Ÿä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è·¨é“¾åè®®å…è®¸ä¸åŒçš„åŒºå—é“¾ä¹‹é—´è¿›è¡Œä¿¡æ¯ä¼ é€’å’Œèµ„äº§äº’æ“ä½œï¼Œä»è€Œæ‰“ç ´äº†å„ä¸ªé“¾ä¹‹é—´çš„å­¤ç«‹å±€é¢ã€‚Axelarã€Wormhole å’Œ Hyperlane ä½œä¸ºä¸‰å¤§è·¨é“¾åè®®çš„ä»£è¡¨ï¼Œå®ƒä»¬åœ¨å¤šé“¾é€šä¿¡çš„å®ç°ä¸Šå„å…·ç‰¹è‰²ã€‚é‚£ä¹ˆï¼Œè°èƒ½ç§°éœ¸è·¨é“¾åˆçº¦æ—¶ä»£ï¼Œæˆä¸ºæœªæ¥çš„å¤šé“¾é€šä¿¡æ ‡å‡†å‘¢ï¼Ÿ
ä¸€ã€è·¨é“¾åè®®çš„èƒŒæ™¯éšç€åŒºå—é“¾çš„å¤šæ ·åŒ–å‘å±•ï¼Œå»ä¸­å¿ƒåŒ–é‡‘èï¼ˆDeFiï¼‰ã€NFTã€æ¸¸æˆå’Œå…¶ä»–åº”ç”¨ç¨‹åºå·²ç»ä¸å†å±€é™äºå•ä¸€é“¾ä¸Šè¿è¡Œã€‚ä¸åŒåŒºå—é“¾ä¹‹é—´çš„æ•°æ®å’Œèµ„äº§æµé€šéœ€æ±‚æ—¥ç›Šå¢åŠ ã€‚ç„¶è€Œï¼Œä¸åŒé“¾ä¹‹é—´ç¼ºä¹ç»Ÿä¸€çš„é€šä¿¡åè®®ï¼Œå¯¼è‡´äº†è·¨é“¾æ“ä½œçš„å¤æ‚æ€§å’Œä¸å…¼å®¹æ€§ã€‚å› æ­¤ï¼Œè·¨é“¾åè®®åº”è¿è€Œç”Ÿï¼Œå®ƒä»¬æ—¨åœ¨æä¾›é“¾ä¸é“¾ä¹‹é—´çš„é«˜æ•ˆã€å®‰å…¨å’Œå¯æ‰©å±•çš„é€šä¿¡æœºåˆ¶ã€‚
è·¨é“¾åè®®ä¸ä»…ä»…æ˜¯ä¸ºäº†è§£å†³èµ„äº§çš„æµåŠ¨é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯æ¨åŠ¨å»ä¸­å¿ƒåŒ–åº”ç”¨ï¼ˆDAppï¼‰å’Œå»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰ç­‰åˆ›æ–°æ¨¡å¼çš„å®ç°ã€‚
äºŒã€Axelarï¼šè·¨é“¾çš„äº’è”ç½‘Axelar æä¾›äº†ä¸€ä¸ªç®€å•ã€å®‰å…¨ä¸”å»ä¸­å¿ƒåŒ–çš„è·¨é“¾è§£å†³æ–¹æ¡ˆï¼Œå…¶ç›®æ ‡æ˜¯æˆä¸ºä¸€ä¸ªâ€œåŒºå—é“¾äº’è”ç½‘â€ã€‚Axelar ä½¿ç”¨ç»Ÿ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/04/18/codehawk-Liquidity-Management/" title="codehawk-Liquidity Management">codehawk-Liquidity Management</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-04-18T11:34:17.000Z" title="Created 2025-04-18 19:34:17">2025-04-18</time></span></div><div class="content">é«˜ æ‰§è¡Œé€»è¾‘é”™è¯¯çš„å‚æ•°æ¼æ´ä»£ç ï¼š
/**   * @notice æ­¤å‡½æ•°æ˜¯ææ¬¾æµç¨‹çš„ç»“æŸã€‚   * @dev åº”æ›´æ–°æ‰€æœ‰å¿…è¦çš„å…¨å±€çŠ¶æ€å˜é‡   *    * @param withdrawn ä»å¤´å¯¸ä¸­æå–çš„ä»£å¸æ•°é‡   * @param positionClosed å½“å®Œå…¨é€šè¿‡ææ¬¾å…³é—­å¤´å¯¸æ—¶ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡   */  function _handleReturn(uint256 withdrawn, bool positionClosed, bool refundFee) internal &#123;    (uint256 depositId) = flowData;    uint256 shares = depositInfo[depositId].shares;    uint256 amount;    if (positionClosed) &#123;      amount = collateralToken.balanceOf(address(this)) * shares / totalShares;    &#125; else &#123;      uint ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/03/13/cantina-size-Credit/" title="cantina-size Credit">cantina-size Credit</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-03-13T05:57:46.000Z" title="Created 2025-03-13 13:57:46">2025-03-13</time></span></div><div class="content">cantina-size Creditä½¿ç”¨owner()å‡½æ•°ï¼Œè¯¥åˆçº¦å·²ç»è®¾ç½®äº†ownerä¸ºé›¶æ¼æ´ä»£ç 
    function reinitialize() external onlyOwner reinitializer(1_7_0) &#123;        // grant `AccessControlUpgradeable` roles to the `Ownable2StepUpgradeable` owner        _grantRole(DEFAULT_ADMIN_ROLE, owner());        _grantRole(PAUSER_ROLE, owner());        _grantRole(KEEPER_ROLE, owner());        _grantRole(BORROW_RATE_UPDATER_ROLE, owner());        // transfer `Ownable2StepUpgradeable` ownership to the zero address to keep the state consisten ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/03/04/sherlock-Yieldoor-%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A/" title="sherlock-Yieldoor å®¡è®¡æŠ¥å‘Š">sherlock-Yieldoor å®¡è®¡æŠ¥å‘Š</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-03-04T10:40:06.000Z" title="Created 2025-03-04 18:40:06">2025-03-04</time></span></div><div class="content">Yieldooræ•´æ•°æº¢å‡º ï¼ˆé«˜ï¼‰ä»£ç å¦‚ä¸‹ï¼š
uint256 index = (observationCardinality + currentIndex - i) % observationCardinality;
è¿™é‡Œçš„observationCardinalityå’ŒcurrentIndexåœ¨åˆçº¦ä¸­éƒ½æ˜¯uint16çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´2^16-1
0-65535,å½“ä»–ä»¬ä¿©ä¸ªç›¸åŠ çš„è¯å°±ä¼šå‡ºç°æ•´æ•°æº¢å‡ºï¼Œå¯¼è‡´ä¾èµ–è®¡ç®—çš„å‡½æ•°éƒ½ä¼šæ— æ³•è¿›è¡Œ
æº¢å‡ºå°±ä¼šå¯¼è‡´æ•´ä¸ªåˆçº¦çš„æ ¸å¿ƒåŠŸèƒ½æ— æ³•ä½¿ç”¨
æ æ†baseè®¡ç®—é”™è¯¯ ï¼ˆé«˜ï¼‰ä»£ç å¦‚ä¸‹ï¼š
base = owedAmount / vp.maxTimesLeverage;
ä½¿ç”¨äº†å€Ÿæ¬¾é‡‘é¢ï¼Œæ¥è®¡ç®—base,å¯èƒ½ä¼šå¯¼è‡´è¶…è¿‡åˆå§‹æŠµæŠ¼å“çš„ï¼Œå¯¼è‡´ç”¨æˆ·è¢«æ¸…ç®—ã€‚
è®¡ç®— base æ—¶ æœªè€ƒè™‘åˆå§‹æŠµæŠ¼å“ initCollateralValueï¼Œå¯¼è‡´ base å¯èƒ½è¶…å‡ºåˆç†èŒƒå›´ã€‚è¿™å¯¼è‡´ç”¨æˆ·åœ¨ å®é™…æŠµæŠ¼å“ä»ç„¶å……è¶³çš„æƒ…å†µä¸‹è¢«æå‰æ¸…ç®—ã€‚ä¾‹å­å¦‚ä¸‹ï¼šå‡è®¾ï¼š

ç”¨æˆ·å­˜å…¥ 1000 USDT ä½œä¸ºæŠµæŠ¼
å€Ÿå…¥ 1000 USDTï¼Œæ€»ä»“ä½å˜æˆ 2000 USDT
vp.maxTimesLeverage &#x3 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/12/16/codeHawks-2024-12-Aldo-SssTablecoinsss-%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A/" title="codeHawks-2024-12-Aldo SssTablecoinsss å®¡è®¡æŠ¥å‘Š">codeHawks-2024-12-Aldo SssTablecoinsss å®¡è®¡æŠ¥å‘Š</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-12-16T11:03:17.000Z" title="Created 2024-12-16 19:03:17">2024-12-16</time></span></div><div class="content">Aldo SssTablecoinsss å®¡è®¡æŠ¥å‘Šè¿™æ¬¡æŠ½ç©ºåœ¨codeHarwä¸Šé¢ï¼Œåšäº†ä¸€æ¬¡é¦–é£ã€‚æ˜¯å…³äºdefi çš„ã€‚ç»“æœä½¿ç”¨pè¯­è¨€å†™çš„ï¼Œå¯¼è‡´å¾ˆå¤šäººå¯èƒ½å°±æ²¡æœ‰å»å‚åŠ ï¼Œæˆ‘ä¹Ÿæäº¤äº†3ä¸ªï¼Œè™½ç„¶åªæœ‰ä¸€ä¸ªè¢«åˆ¤ä¸ºä¸­ç­‰ï¼Œä½†æ˜¯è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è¢«é€‰æ‹©æˆæœ€ç»ˆæŠ¥å‘Š
è¿™æ˜¯æˆ‘æ­£ç¡®çš„æŠ¥å‘Š
è¯­è¨€æœºçš„æ—¶é—´è®¾ç½®çš„å¤ªå¤§ï¼ˆä¸­ç­‰ï¼‰ï¼ˆmeï¼‰ï¼ˆè¢«é€‰ä¸ºä½œä¸ºæŠ¥å‘Šï¼‰M-01. The TIMEOUT is set as a fixed constant of 72 hours, which makes it inflexible in adapting to the market price.SummaryIn this contract, the TIMEOUT is set as a fixed constant (72 hours, or 259200 seconds). This means that if the oracle price data is not updated within 72 hours, the data will be considered outdated, and the contract will  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/12/10/sherlock-2024-11-Oku-sNew-Order-Types-%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A/" title="sherlock-2024-11-Oku'sNew Order Types å®¡è®¡æŠ¥å‘Š">sherlock-2024-11-Oku'sNew Order Types å®¡è®¡æŠ¥å‘Š</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-12-10T11:04:28.000Z" title="Created 2024-12-10 19:04:28">2024-12-10</time></span></div><div class="content">ä¸€Summaryåœ¨æ‰§è¡Œ _getExchangeRateå‡½æ•°çš„æ—¶å€™ï¼Œæ²¡æœ‰æ£€æŸ¥ï¼ŒtokenInå’ŒtokenOutæ˜¯ä¸æ˜¯åŒç§çš„ä»£å¸ï¼Œå¯¼è‡´ä¸€äº›æ— æ„ä¹‰çš„æ±‡ç‡è®¡ç®—å‡ºæ¥
Root Cause2024-11-oku-HeYuan-33&#x2F;oku-custom-order-types&#x2F;contracts&#x2F;automatedTrigger&#x2F;AutomationMaster.sol
Lines 77 to 86 in ee3f781
function _getExchangeRate(     IERC20 tokenIn,     IERC20 tokenOut ) internal view returns (uint256 exchangeRate) &#123;     // Retrieve USD prices from oracles, scaled to 1e8     uint256 priceIn = oracles[tokenIn].currentValue();     uint256 priceOut = oracles[tokenOut]. ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/#content-inner">12</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/1219ec3412a4cedf9378f9c0b14545e1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ä½•æ–¹åœœ</div><div class="author-info__description">å¤«å­°å¼‚é“è€Œç›¸å®‰</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">111</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HeYuan-33/HeYuan-33.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/HeYuan-33" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="/1405269390@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">CTFçš„æ›´æ–°</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/15/Uniswap-v4/" title="Uniswap v4">Uniswap v4</a><time datetime="2025-12-15T13:39:31.000Z" title="Created 2025-12-15 21:39:31">2025-12-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/29/MOVE%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/" title="MOVEæ¼æ´æ€»ç»“">MOVEæ¼æ´æ€»ç»“</a><time datetime="2025-08-29T05:51:57.000Z" title="Created 2025-08-29 13:51:57">2025-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/28/move-%E5%AD%A6%E4%B9%A0/" title="move å­¦ä¹ ">move å­¦ä¹ </a><time datetime="2025-07-28T08:25:39.000Z" title="Created 2025-07-28 16:25:39">2025-07-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/28/Notional-Exponent-%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A/" title="Notional Exponent å®¡è®¡">Notional Exponent å®¡è®¡</a><time datetime="2025-07-28T03:13:50.000Z" title="Created 2025-07-28 11:13:50">2025-07-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/11/GMX%E5%8D%8F%E8%AE%AE%E9%81%AD%E5%8F%97%E9%87%8D%E5%85%A5%E6%94%BB%E5%87%BB%E6%8D%9F%E5%A4%B14200%E4%B8%87%E7%BE%8E%E7%BE%8E%E9%87%91/" title="GMXåè®®é­å—é‡å…¥æ”»å‡»æŸå¤±4200ä¸‡ç¾ç¾é‡‘">GMXåè®®é­å—é‡å…¥æ”»å‡»æŸå¤±4200ä¸‡ç¾ç¾é‡‘</a><time datetime="2025-07-11T08:10:53.000Z" title="Created 2025-07-11 16:10:53">2025-07-11</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/" style="font-size: 1.33em; color: #99a2af">è¯¾ç¨‹å­¦ä¹ </a> <a href="/tags/%E9%93%BE%E6%8E%A5/" style="font-size: 1.1em; color: #999">é“¾æ¥</a> <a href="/tags/%E6%94%BB%E5%87%BB%E4%BA%8B%E4%BB%B6%E5%88%86%E6%9E%90/" style="font-size: 1.33em; color: #99a2af">æ”»å‡»äº‹ä»¶åˆ†æ</a> <a href="/tags/CTF/" style="font-size: 1.5em; color: #99a9bf">CTF</a> <a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size: 1.21em; color: #999ea4">é¢˜è§£</a> <a href="/tags/%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A/" style="font-size: 1.39em; color: #99a4b4">å®¡è®¡æŠ¥å‘Š</a> <a href="/tags/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/" style="font-size: 1.44em; color: #99a7ba">åŸºæœ¬çŸ¥è¯†</a> <a href="/tags/Solana/" style="font-size: 1.1em; color: #999">Solana</a> <a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 1.1em; color: #999">åŸºç¡€çŸ¥è¯†</a> <a href="/tags/%E5%8D%8F%E8%AE%AE/" style="font-size: 1.27em; color: #99a0a9">åè®®</a> <a href="/tags/test/" style="font-size: 1.16em; color: #999b9e">test</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="View More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">åäºŒæœˆ 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">å…«æœˆ 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2025</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">å…­æœˆ 2025</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">äº”æœˆ 2025</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">å››æœˆ 2025</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2025</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">åäºŒæœˆ 2024</span><span class="card-archive-list-count">11</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">111</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-12-22T07:53:18.217Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/f19b6d7802203dbf7f381a7c4ce0c4cc.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By ä½•æ–¹åœœ</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>